id: fd-014
name: Form Design & Validation UX
category: ux
definition:
  overview: >
    Users struggle with poorly designed forms causing completion friction (68% abandon complex forms before submission), validation confusion
    (45% submit forms with errors requiring correction), and data loss anxiety (35% have lost form progress due to crashes/timeouts). Poor form UX
    manifests as unclear error messages ("Invalid input" without specifics), late validation (errors shown only on submit after 5-10 min filling),
    no progress indication (multi-step forms with no sense of completion), missing auto-save (lose all data on timeout/crash), and inaccessible
    keyboard navigation (can't Tab through fields properly). This feature provides comprehensive form UX patterns with inline validation, clear error
    messages, progressive disclosure, auto-save, field dependencies, and WCAG-compliant keyboard navigation transforming frustrating form experiences
    into efficient confident data entry reducing abandonment by 60% and error rates by 75%.

  jobs_to_be_done:
    - "When filling form, I want inline validation, so I can correct errors immediately vs waiting until submit to discover problems."
    - "When validation fails, I want clear actionable messages, so I understand what's wrong and how to fix it without guessing."
    - "When form is long, I want progressive disclosure, so I focus on current section without overwhelming 30-field single-page view."
    - "When interrupted, I want auto-save, so I don't lose progress and can resume later without starting over."
    - "When fields depend on each other, I want smart show/hide, so I only see relevant fields based on my selections."

  strategic_context:
    problem_space: >
      Forms are primary data entry mechanism across applications (account setup, content creation, settings configuration, data import) but poor UX
      creates massive friction. 68% of users abandon complex forms before submission indicating severe completion barriers. 45% submit forms with
      validation errors requiring correction showing unclear requirements or late feedback. 35% have lost form progress due to timeouts, crashes,
      or accidental navigation causing anxiety about data loss. Average form completion time 40% longer than optimal due to validation confusion,
      unclear instructions, and error recovery. Accessibility gaps (keyboard navigation, screen reader support, focus management) prevent assistive
      technology users from completing forms. Mobile form UX particularly poor with tiny inputs, hidden labels, keyboard dismissal issues.

    existing_alternatives: >
      Current systems provide basic HTML forms with submit validation (errors shown only after submit requiring review and correction), generic error
      messages ("Required field" without context), no auto-save (users manually copy content to notes app before submitting fearing data loss), no
      progressive disclosure (all 30 fields shown on single page causing overwhelm), limited mobile optimization (desktop-sized inputs, labels hidden
      by keyboard, no input type optimization). Users compensate by: drafting in external documents before form entry, taking screenshots at each step
      as backup, abandoning incomplete forms returning later (often losing progress), avoiding optional fields to reduce completion time.

    value_hypothesis: >
      Organizations implementing comprehensive form UX will reduce abandonment by 60% (from 68% to 27% for complex forms), reduce validation errors
      75% (from 45% to 11% through inline validation), eliminate progress loss anxiety (auto-save every 30 seconds), and reduce completion time 40%
      (through progressive disclosure and clear guidance). For 100-person org processing 500 forms weekly (customer onboarding, employee requests,
      data updates), reducing abandonment 60% increases completions from 160 to 365 weekly (+205 completions = +128% throughput). Reducing validation
      errors 75% saves 5 min per submission × 500 weekly = 2,500 min weekly = 42 hours weekly = $2,100 weekly at $50/hr = $109k annually. Reduced
      completion time (40% faster) saves additional $85k annually. Total value: $194k annually with improved user satisfaction and reduced support tickets.

  capabilities:
    - id: cap-001
      name: Inline Validation & Real-Time Feedback
      description: >
        Field-level validation with immediate feedback as user types or leaves field (onBlur) preventing submit-time error discovery. Validation types:
        required field (highlight empty required fields), format validation (email, phone, URL patterns), length limits (character count with max
        display: "45/100"), range validation (numeric min/max, date ranges), custom rules (password strength, unique username). Validation timing:
        onBlur for format checks (email valid after leaving field), onChange for length limits (live character count), onSubmit for final validation.
        Visual feedback: green checkmark for valid fields, red border + error message for invalid, yellow warning for suggestions (weak password).
        Error message placement: below field with icon, clear actionable text ("Email must include @ symbol" not "Invalid input"), persistent until
        corrected. Async validation for server checks (username availability) with loading indicator. Keyboard accessible (error read by screen reader).
    
    - id: cap-002
      name: Clear Error Messages & Recovery Guidance
      description: >
        Actionable error messages explaining what's wrong and how to fix it. Error format: "[Field name]: [Problem] → [Solution]" (e.g., "Password:
        Must be 8+ characters → Add 3 more characters"). Error summary at form top listing all errors with jump links ("3 errors found: Email format,
        Password length, Terms required - click to fix"). Field-level error details below each invalid field with icon (⚠) and red styling. Contextual
        help: info icon (ⓘ) next to labels showing requirements on hover/click ("Password: 8+ chars, 1 uppercase, 1 number, 1 symbol"). Example
        values: placeholder text showing format ("name@company.com", "555-123-4567"). Inline suggestions: autocorrect typos ("Did you mean
        @gmail.com?"), format assistance (auto-add dashes to phone numbers). Error prevention: disable invalid actions (can't submit with errors),
        required field indicators (* asterisk), optional field labels ("(optional)"). Accessibility: errors announced to screen readers, focus moves
        to first error on submit attempt.
    
    - id: cap-003
      name: Progressive Disclosure & Multi-Step Forms
      description: >
        Complex forms broken into manageable steps showing 4-6 fields per step vs overwhelming 30-field single page. Step indicator: visual progress
        (Step 2 of 5), breadcrumb trail (Account Info → Contact Details → Preferences → Review), completion percentage (40% complete). Navigation:
        Next/Previous buttons, breadcrumb clicking enables jumping to completed steps, keyboard shortcuts (Enter for Next, Shift+Enter for Previous).
        Step validation: can't proceed to next step until current step valid, show step completion checkmarks in breadcrumb. Field grouping: logical
        sections with headers (Personal Information, Contact Details, Preferences), collapsible sections for advanced options. Conditional fields:
        show/hide fields based on selections (select "Company account" → show "Company name" field), field dependencies (US country → show State
        dropdown, International → show Province text field). Review step: summary of all entered data with edit links jumping back to specific step.
        Mobile optimization: one field per screen on mobile (tap Next after each entry), large touch targets, native input types (date picker, number
        keyboard).
    
    - id: cap-004
      name: Auto-Save & Draft Recovery
      description: >
        Automatic draft saving every 30 seconds preventing data loss from timeouts, crashes, or accidental navigation. Auto-save behavior: save to
        browser localStorage (client-side) or server (if authenticated), visual indicator showing save status ("Saving..." → "Draft saved at 2:34 PM"),
        no user action required. Draft recovery: on form reload, show prompt ("You have unsaved changes from 5 minutes ago. Restore draft?") with
        Restore/Discard options. Conflict resolution: if server data changed since draft created, show merge interface highlighting differences with
        Keep Draft/Keep Server/Merge options. Manual save: "Save as draft" button enabling intentional pause without submit, drafts list in user
        profile showing all incomplete forms with timestamps and resume links. Session expiry handling: warn 2 minutes before timeout ("Your session
        expires in 2 min. Save progress?"), auto-save before redirect. Data privacy: auto-save respects sensitive fields (passwords not saved in
        plaintext), clear draft data on successful submit or explicit discard. Offline support: save locally when offline, sync when connection restored.
    
    - id: cap-005
      name: Accessible Keyboard Navigation & Focus Management
      description: >
        WCAG 2.1 AA compliant keyboard navigation enabling form completion without mouse. Tab order: logical field sequence (top-to-bottom,
        left-to-right), skip navigation links ("Skip to main content"), tab trapping in modals. Focus management: visible focus indicators (blue outline
        on focused field, 2px width), focus moves to first field on form load, focus moves to first error on validation fail. Keyboard actions: Tab to
        next field, Shift+Tab to previous, Enter to submit (from last field), Escape to close modal/cancel, Space to toggle checkboxes/radio buttons,
        Arrow keys for radio groups and dropdowns. Screen reader support: semantic HTML (fieldset/legend for groups, label elements associated with
        inputs), ARIA attributes (aria-required, aria-invalid, aria-describedby for errors), live regions announcing validation changes ("Email field:
        error, must include @ symbol"). Form instructions: accessible announcements ("Form has 15 fields, marked with asterisk are required"), field
        format help read on focus ("Date format: MM/DD/YYYY"). Error navigation: keyboard shortcuts to jump between errors (Ctrl+E for next error),
        error summary focusable at form top. Mobile accessibility: larger touch targets (44px minimum), voice input support for text fields.

  personas:
    - id: form-user
      name: Form User
      role: End User / Data Entry
      description: >
        Primary form filler completing account setup, content submission, settings configuration, or data updates. Values speed and clarity over
        advanced features. Frustrated by confusing validation, data loss anxiety, and unclear instructions causing completion friction.
      goals:
        - "Complete forms quickly without confusion about requirements or validation rules saving time and reducing frustration."
        - "Correct errors immediately through inline validation vs waiting until submit to discover problems requiring review."
        - "Preserve progress through auto-save avoiding data loss anxiety when interrupted or connection drops."
        - "Understand what's required through clear labels, examples, and error messages without guessing or trial-and-error."
      pain_points:
        - "Submit forms only to see error list requiring review and correction of multiple fields after 5-10 min work."
        - "Lose all form progress due to timeout, crash, or accidental back button click causing anxiety and time loss."
        - "Unclear error messages ('Invalid input') without specifics about problem or how to fix forcing guess-and-check."
        - "Overwhelmed by 30-field single-page forms with unclear completion progress causing abandonment."
      usage_context: >
        Completes 3-5 forms weekly (account setup, content creation, settings updates, data entry). Forms range from 5-30 fields taking 2-20 min.
        Often interrupted mid-form (meetings, urgent tasks) requiring resume later. Basic technical proficiency expecting intuitive UX.
      technical_proficiency: basic
      current_situation: "As Marketing Manager creating content entries in knowledge management system (blog posts, case studies, product updates) requiring 20-field form (title, summary, full text, category, tags, author, publish date, SEO metadata, featured image, related content, status), I experience constant friction from poor form UX. I spend 10-15 minutes filling form drafting content carefully only to click Submit seeing error summary listing 5 problems: 'Title: Required field', 'Summary: Must be 100-300 characters', 'Tags: Minimum 3 tags required', 'Publish date: Cannot be past date', 'Featured image: Required'. This submit-time validation means I review entire form correcting fields one-by-one (add title I forgot, check character count in summary manually adjusting to 100+, add 2 more tags to reach minimum 3, change date from yesterday to today, upload image) requiring 5-8 more minutes. The error messages are frustratingly generic - 'Summary: Must be 100-300 characters' shows when I have 87 characters but I must manually count because there's no live character counter showing 87/100. I've lost form progress 3 times in past month due to: session timeout after leaving form open during 30-min meeting (returned to blank form, all content lost), browser crash while editing long text field (5-min work lost), accidentally clicking browser back button (navigated away without save prompt). These data loss incidents created anxiety - now I draft all content in Google Docs before copying into form (adding 5-10 min per submission) and take screenshots of filled form before submitting as backup. The 20-field single-page layout is overwhelming causing completion paralysis (where do I start? how much is left?). Optional vs required fields unclear - some have asterisk (*) but asterisk meaning not explained, other required fields have no indicator. I spend 12-15 minutes per form submission vs optimal 5-7 minutes due to validation confusion, error correction, external drafting, and anxiety about data loss."
      transformation_moment: "When improved form UX with inline validation and auto-save was implemented, my content submission experience transformed from anxious time-consuming friction to confident efficient workflow. Opening content creation form, I immediately saw clear structure: Step 1 of 4 (Basic Info), progress indicator (25% complete), 5 fields visible vs previous 20-field overwhelming page. Each field had inline help: placeholder examples ('Introducing Our New Product Line'), character count for limited fields ('Summary: 0/300 characters, minimum 100'), required indicators ('* Required'), info icons with tooltips ('Tags: Add 3-10 tags for searchability'). As I typed title, inline validation confirmed correctness (green checkmark appeared after leaving field indicating valid). When I entered 45-character summary, live character count showed '45/300 - Add 55 more to reach minimum' in yellow warning styling (not blocking, just guidance). I added more text seeing counter update in real-time hitting 105 characters and warning disappeared with green checkmark. I forgot to add third tag attempting to click Next seeing immediate field-level error below tags input: 'Tags: Need 3 minimum - You have 2. Add 1 more' with red border and focus remaining on field. I added third tag seeing error clear and Next button became enabled. Auto-save indicator showed 'Draft saved at 2:34 PM' in top corner updating every 30 seconds giving me confidence to step away for urgent call. When I returned 15 minutes later, form showed 'You have unsaved changes from 14 minutes ago. Restore draft?' - I clicked Restore and all 3 completed steps pre-filled exactly as I'd left them. I completed Steps 3-4 (SEO metadata, publishing settings) in 2 minutes with same inline validation guidance. Final Review step showed summary of all entered data with edit links. I clicked Submit and form succeeded immediately (no errors because all validation happened inline). Total completion time: 6 minutes vs previous 12-15 minutes, zero errors on submit vs average 3-5 errors requiring correction, zero anxiety about data loss due to visible auto-save indicators."
      emotional_resolution: "I now feel confident completing forms efficiently with inline validation preventing submit-time errors vs previous anxiety-inducing error discovery after 10-15 min work. Live feedback (character counters showing 87/300, green checkmarks on valid fields, immediate error messages on leaving invalid field) enables correction during entry vs post-submit review. Auto-save every 30 seconds with visible 'Draft saved' indicator eliminated data loss anxiety - I can step away for calls/meetings knowing progress preserved, no more defensive drafting in external docs adding 5-10 min overhead, browser crashes or accidental navigation no longer catastrophic. Progressive disclosure (4 steps of 5 fields vs 20-field page) reduced completion paralysis with clear progress indication (Step 2 of 4, 50% complete). Clear error messages with actionable guidance ('Need 3 minimum - You have 2. Add 1 more') eliminated guess-and-check frustration. Inline help (examples, tooltips, format hints) clarified requirements without hunting documentation. My form completion time reduced 50% (from 12-15 min to 6 min) with zero submit-time errors vs average 3-5 requiring correction. Most importantly, form anxiety transformed to confidence - I approach forms knowing validation will guide me, progress won't be lost, and submission will succeed first try vs previous dread of data loss and error correction cycles."

    - id: form-designer
      name: Form Designer
      role: UX/Product Designer
      description: >
        Designer defining form patterns, validation UX, error messaging, and accessibility standards. Values user-centered design and WCAG compliance.
        Frustrated by form builders lacking design control and accessibility features limiting ability to create polished experiences.
      goals:
        - "Design intuitive form flows with progressive disclosure reducing cognitive load and completion friction."
        - "Ensure forms meet WCAG 2.1 AA standards (keyboard navigation, screen reader support, focus management) for inclusive access."
        - "Define clear error messaging patterns with actionable guidance vs generic technical messages confusing users."
        - "Create reusable form components and patterns ensuring consistency across organization's forms."
      pain_points:
        - "Form builders have limited design control (can't customize validation styling, error placement, progress indicators)."
        - "No accessibility testing built-in requiring manual WCAG audits after form creation delaying launch."
        - "Cannot define error message templates forcing developers to write ad-hoc messages (often technical, user-hostile)."
        - "No component library for forms - each form implemented differently creating inconsistent UX across product."
      usage_context: >
        Designs 2-3 new forms monthly and defines form standards for organization. Collaborates with developers on implementation. Conducts user
        testing on form prototypes. Needs design tools supporting accessibility-first workflow without code.
      technical_proficiency: intermediate
      current_situation: "As Product Designer responsible for form UX across knowledge management platform (account setup, content creation, settings, data import, user management), I struggle with form builders lacking design control and accessibility features preventing creation of polished inclusive experiences. When designing account setup flow in Figma (12-field form covering name, email, password, organization, role, preferences), I specify validation patterns (inline validation onBlur, green checkmarks for valid fields, red borders + clear error messages below invalid fields, character counters for limited fields, required indicators), progressive disclosure (3 steps of 4 fields vs single page), and accessibility requirements (keyboard Tab order, focus indicators, screen reader announcements, WCAG AA contrast ratios). However, when developers implement using default form library, design execution is 60-70% accurate: validation styling doesn't match spec (blue borders vs specified red, errors shown in modal vs below field), no character counters implemented, required indicators inconsistent (some fields have asterisks, others don't), progressive disclosure becomes accordion panels vs separate steps (changing interaction pattern). Accessibility gaps in implementation: keyboard Tab order jumps unpredictably (skips fields or traps in sections), focus indicators barely visible (1px gray outline vs specified 2px blue), screen reader support missing (unlabeled inputs, validation errors not announced, no fieldset/legend for groups). I discover these issues during post-implementation QA requiring iteration cycles (design feedback → developer fixes → re-test) extending timeline 2-3 weeks. Error messaging particularly problematic - I specify actionable user-friendly messages ('Password: Must be 8+ characters → Add 3 more characters') but implementation shows technical messages ('Password validation failed: string length < 8') because no message template system exists forcing developers to write ad-hoc text. No accessibility testing during development means WCAG violations discovered late requiring fixes before launch. No reusable form component library means each developer implements forms differently (validation timing varies, error styling inconsistent, keyboard navigation unpredictable) creating fragmented UX across 15+ product forms."
      transformation_moment: "When form design system with accessibility-first components and validation templates was implemented, my workflow transformed from frustrating design-to-dev translation to high-fidelity implementation with built-in accessibility. First time using form builder, I saw design-oriented configuration matching my Figma specs: validation styling controls (border colors, error text styling, icon selection, placement options: below field vs inline), character counter templates (live vs on-blur, with/without minimum indicator), required field indicator customization (asterisk color/position, 'Required' label, 'Optional' label for minority). I configured inline validation behavior matching exact specs: format checks onBlur (email, URL), length limits onChange (live counter), async checks onBlur with loading indicator (username availability). Error message templates enabled user-friendly text: pre-filled messages for common validations (email format: 'Email must include @ symbol and domain', password strength: 'Password: Must be 8+ characters → Add [X] more characters', required: '[Field name]: This field is required'), placeholder variables injecting dynamic values ([field_name], [current_length], [required_length]). Progressive disclosure configured through step wizard: defined 4 steps with titles (Account Info, Profile Details, Preferences, Review), set 4-5 fields per step, configured breadcrumb navigation (Step X of 4 with clickable completed steps), added progress percentage (25%, 50%, 75%, 100%). Accessibility panel showed real-time compliance: Tab order preview (visual flow diagram showing field sequence), focus indicator testing (visible vs WCAG standards), screen reader markup (all inputs labeled, errors use aria-describedby, live regions for validation), contrast checking (all text passes WCAG AA 4.5:1). I created reusable form templates ('User Account Setup', 'Content Submission Form', 'Settings Configuration') with all styling, validation, accessibility pre-configured - developers selected template, mapped data fields, deployed with 95% design fidelity vs previous 60-70%. User testing on new forms showed 60% reduction in completion time and 75% fewer validation errors vs old forms validating design improvements. After 2 months, we'd migrated 12 of 15 product forms to new system with consistent UX and zero WCAG violations vs previous fragmented experiences."
      emotional_resolution: "I now feel confident my form designs will be implemented accurately with built-in accessibility vs previous frustrating design-to-dev translation gaps causing 60-70% fidelity. Design-oriented configuration (validation styling, error placement, progress indicators, character counters) matches my Figma specs enabling high-fidelity implementation without custom CSS. Error message templates with user-friendly language and placeholder variables ensure consistent actionable guidance vs ad-hoc technical developer messages confusing users. Accessibility features built into design workflow (real-time WCAG checking, Tab order preview, screen reader markup validation, contrast testing) prevent violations vs post-implementation audits delaying launch 2-3 weeks. Reusable form templates established organizational consistency - 95% design fidelity across 12 migrated forms vs previous fragmented UX with inconsistent validation, styling, keyboard navigation across 15+ forms. Design-to-implementation cycle accelerated from 4-6 weeks (design → implement → iterate on gaps → accessibility fixes) to 1-2 weeks (configure template → map data → deploy) because form builder speaks design language. Most importantly, form design became source of product quality pride vs previous compromise between desired UX and implementation constraints - forms showcase thoughtful validation UX, clear error guidance, and inclusive accessibility reinforcing platform's user-centered design philosophy."

    - id: frontend-developer
      name: Frontend Developer
      role: Engineer / Implementation
      description: >
        Developer implementing forms using component libraries and validation frameworks. Values developer experience (good APIs, clear docs) and
        maintainability. Frustrated by form libraries with poor DX requiring verbose boilerplate and lacking validation utilities.
      goals:
        - "Implement forms quickly using reusable components vs building validation logic from scratch for each form."
        - "Write minimal boilerplate code through declarative APIs (schema-based validation, auto-generated fields) vs imperative DOM manipulation."
        - "Handle complex validation (async checks, cross-field dependencies, conditional logic) through framework utilities vs custom code."
        - "Maintain forms easily with clear separation between validation logic, rendering, and state management."
      pain_points:
        - "Form libraries require verbose boilerplate (200-300 lines for simple 10-field form) vs declarative schema-based approach."
        - "No built-in async validation (username availability, email verification) requiring custom implementation for each form."
        - "Conditional field logic (show/hide based on selections) needs manual DOM manipulation vs declarative dependencies."
        - "Form state management complex (tracking touched fields, errors, submission status) without framework utilities."
      usage_context: >
        Implements 1-2 new forms monthly and maintains 20+ existing forms. Uses React/Vue frameworks with form libraries (Formik, React Hook Form,
        VeeValidate). Needs efficient APIs reducing boilerplate. Expert technical proficiency expecting good DX.
      technical_proficiency: expert
      current_situation: "As Frontend Engineer implementing forms across knowledge management platform using React + Formik library (account setup, content creation, settings, data import - 20+ forms in codebase), I spend significant time writing validation boilerplate and managing form state complexity. Simple 10-field account setup form requires 200-250 lines of code: field definitions (10 fields × 15 lines each = 150 lines for inputs with labels, error handling, state binding), validation logic (50 lines of Formik validation schema with yup rules for email format, password strength, required fields), error message rendering (30 lines mapping validation errors to user-friendly messages), submission handling (20 lines managing loading states, success/error handling). This boilerplate is mostly similar across forms but not easily reusable requiring copy-paste-modify approach (I have 'account-form.jsx' duplicated and modified for 'profile-form.jsx', 'settings-form.jsx' with 60-70% code overlap). Async validation particularly painful - checking username availability requires custom implementation: debounced API call on field change, loading state management, error handling for network failures, caching previous results to avoid redundant checks (30-40 lines per async validation field, replicated across 5+ forms needing unique username/email/domain checks). Conditional field logic requires manual DOM manipulation: when user selects 'Company account' checkbox, I must show 'Company name' and 'Tax ID' fields with useEffect hook watching checkbox state, imperatively updating field visibility, managing validation rules (company fields required only when company account selected), handling edge cases (user switches from company to personal mid-form clearing company fields). This conditional logic adds 40-50 lines per dependent field set scattered across component. Form state management complex: tracking which fields user touched (for showing validation errors only on touched fields vs all fields), managing submission state (submitting/submitted/error), handling reset (clearing all fields and errors), preserving drafts (serializing form state to localStorage), restoring drafts (deserializing and repopulating fields) - this state management code is 100-150 lines per form mostly duplicated. Total code for typical form: 350-400 lines with 60-70% being boilerplate similar across forms."
      transformation_moment: "When schema-based form framework with declarative validation and built-in utilities was introduced, my form implementation workflow transformed from verbose boilerplate to concise declarative schemas. First form I migrated (account setup with 10 fields) reduced from 250 lines to 80 lines (68% reduction): I defined JSON schema specifying fields (name, email, password, etc.), validation rules (required, email format, minLength, pattern), error messages (user-friendly templates), dependencies (companyName required when accountType=company), all in single 60-line declarative schema. Framework auto-generated: input components with labels, inline validation onBlur/onChange, error message rendering below fields, required indicators, character counters, all styled consistently matching design system. For async validation (username availability), schema specified: asyncValidate: { endpoint: '/api/check-username', debounce: 300, cache: true } and framework handled: debounced API calls, loading indicators, error handling, result caching, all in 3 lines of config vs previous 30-40 lines of custom implementation. Conditional fields became declarative dependencies: companyName: { type: 'text', visibleWhen: { accountType: 'company' }, requiredWhen: { accountType: 'company' } } and framework automatically showed/hid field based on accountType selection, updated validation rules, managed field reset when toggled - no useEffect hooks, no manual DOM updates. Form state management handled by framework: touched tracking (errors shown only on touched fields automatically), submission state (loading/success/error with UI indicators), auto-save (configured with autosave: { interval: 30, storage: 'server' }), draft recovery (automatic prompt on reload with restore option) - all built-in requiring zero custom state management code. Progressive disclosure configured through schema: steps: [{ title: 'Account Info', fields: ['name', 'email', 'password'] }, { title: 'Profile', fields: ['bio', 'avatar', 'preferences'] }] generating multi-step wizard with breadcrumbs, progress indicator, Next/Previous navigation automatically. After migrating 8 forms in 1 week (vs 6-8 weeks to build originally), total codebase reduced from 3,200 lines (8 forms × 400 lines) to 900 lines (8 forms × 112 lines average) - 72% reduction - improving maintainability and reducing bugs."
      emotional_resolution: "I now feel productive implementing forms through declarative schemas vs tedious boilerplate requiring 250-400 lines per form. Schema-based approach reduced code 68-72% (from 250 to 80 lines for simple form, 400 to 112 for complex) through auto-generated components, validation, error handling, state management. Built-in async validation utilities (debounced API calls, loading indicators, caching) eliminated custom 30-40 line implementations for username/email checks replacing with 3-line schema config. Declarative conditional field dependencies (visibleWhen, requiredWhen) replaced manual 40-50 line useEffect hooks and DOM manipulation with schema config. Form state management (touched tracking, submission handling, auto-save, draft recovery) fully handled by framework eliminating 100-150 lines of custom state code per form. Progressive disclosure (multi-step wizards) auto-generated from schema step definitions vs manual 80-100 line implementations with custom navigation logic. Codebase maintainability dramatically improved: 900 total lines for 8 forms vs previous 3,200 (72% reduction), all forms follow consistent patterns (no divergent implementations), schema changes propagate automatically (update validation rule in one place vs hunting through 400-line components), bugs reduced (framework handles edge cases vs custom logic with potential errors). Most importantly, developer experience transformed from form implementation dread (knowing 250+ lines of boilerplate await) to enjoyable efficiency (write 80-line schema, see polished form with validation, accessibility, auto-save instantly working)."

    - id: accessibility-advocate
      name: Accessibility Advocate
      role: Accessibility Specialist / QA
      description: >
        Accessibility expert ensuring forms meet WCAG 2.1 AA standards for inclusive access. Frustrated by forms failing basic accessibility (no
        keyboard navigation, no screen reader support, poor focus management) requiring extensive remediation before launch delaying releases.
      goals:
        - "Ensure all forms keyboard navigable (Tab order, focus indicators, Enter to submit) without mouse enabling assistive technology users."
        - "Verify screen reader support (labeled inputs, error announcements, instructions) through semantic HTML and ARIA attributes."
        - "Test forms with assistive technologies (JAWS, NVDA, VoiceOver) catching accessibility barriers before launch vs post-deployment complaints."
        - "Advocate for accessible-by-default patterns preventing violations vs reactive remediation after forms built."
      pain_points:
        - "Forms built without accessibility consideration requiring extensive remediation (add labels, fix Tab order, implement ARIA) delaying launch 2-3 weeks."
        - "No keyboard testing during development - violations discovered during QA after 80% implementation requiring costly rework."
        - "Screen reader support afterthought - unlabeled inputs, errors not announced, instructions not associated with fields."
        - "Focus management poor - focus indicators invisible, Tab order illogical, focus lost after validation errors."
      usage_context: >
        Reviews 3-5 forms monthly during QA testing forms with keyboard-only navigation and screen readers (JAWS, NVDA, VoiceOver). Documents
        accessibility violations with remediation recommendations. Advocates for accessible design patterns in planning phase.
      technical_proficiency: expert
      current_situation: "As Accessibility Specialist conducting WCAG audits on platform forms before launch (account setup, content creation, settings, data import), I consistently discover forms with severe accessibility violations requiring 2-3 weeks remediation delaying releases and frustrating development teams. Typical accessibility audit reveals 15-25 violations per form: (1) Keyboard navigation problems - Tab order illogical (jumps randomly between fields vs top-to-bottom flow), focus indicators invisible (1px gray outline failing WCAG contrast requirement of 3:1), Tab trapping in modal forms (can't escape with keyboard), no skip links (must Tab through 50-field form sequentially), Enter key doesn't submit from last field (must mouse click Submit button). (2) Screen reader support missing - 40% of inputs unlabeled (screen reader announces 'Edit text' without field name context), validation errors not announced (user submits form, errors appear visually but screen reader silent), no fieldset/legend for grouped fields (radio buttons announced individually without group context: 'Radio button checked' vs 'Account type: Personal radio button checked'). (3) ARIA attributes absent - required fields lack aria-required, invalid fields lack aria-invalid, error messages not associated with fields (no aria-describedby linking error text to input), dynamic content changes (showing/hiding conditional fields) not announced to screen readers. (4) Instructions not accessible - help tooltips only on hover (keyboard-only users can't access), placeholder text used instead of labels (disappears on focus confusing users), format examples not programmatically associated with fields. (5) Focus management failures - focus doesn't move to first field on form load (keyboard user must Tab from page top through nav/header before reaching form), focus doesn't move to first error after validation fail (screen reader user submitted form with errors but doesn't know where errors are or how to navigate to them). Testing forms with JAWS screen reader (primary tool for blind users) requires 45-60 minutes per form attempting to: activate form fields (Tab through, listen for field announcements), enter data (verify instructions and format guidance accessible), trigger validation (confirm errors announced with actionable guidance), submit form (verify success/error feedback accessible). Current forms fail basic JAWS testing - I cannot complete simple account signup without sighted assistance due to unlabeled fields, missing error announcements, and focus management failures. I document 15-25 violations per form with screenshots, severity ratings (Critical/High/Medium/Low), WCAG references (1.3.1 Info and Relationships, 2.1.1 Keyboard, 3.3.2 Labels or Instructions), remediation recommendations (add label element, implement aria-describedby, fix Tab order via tabindex), estimated effort (30-50 hours per form for comprehensive fixes). Development teams frustrated by late-stage feedback requiring substantial rework after 80% implementation - 'Why wasn't this caught earlier?' creating tension."
      transformation_moment: "When accessible-by-default form framework with built-in WCAG compliance was implemented, my audit experience transformed from discovering 15-25 violations requiring weeks of remediation to finding 0-2 minor issues with forms passing WCAG AA on first review. First form I audited using new framework (user profile settings with 12 fields) showed immediate accessibility improvements: (1) Keyboard navigation worked perfectly - Tab order logical (top-to-bottom, left-to-right), focus indicators visible (2px blue outline with 3:1+ contrast), Tab trapping in modal handled correctly (Escape key closes, Tab cycles through modal fields only), skip link present ('Skip to form fields' jumping past instructions), Enter submits form from any field. (2) Screen reader support complete - all inputs properly labeled (programmatic label elements associated via for/id), validation errors announced via ARIA live regions (submitted form hearing 'Form has errors. Email: Invalid format. Password: Too short' announcement), fieldset/legend for grouped fields (radio buttons announced with context: 'Account type: Personal, radio button, checked'), required fields marked with aria-required (announced as 'Email, required, edit text'). (3) ARIA attributes present - invalid fields marked aria-invalid='true' (announced as 'Email, invalid, edit text, Email must include @ symbol'), error messages associated via aria-describedby (error text announced when field focused), dynamic content changes announced (selecting 'Company account' triggering announcement: 'Company name field now visible and required'). (4) Instructions accessible - help content accessible via keyboard (info icon focusable, Enter opens tooltip, Escape closes), visible labels supplementing placeholders (label shows 'Email address', placeholder shows 'name@company.com' example), format guidance programmatically associated with fields via aria-describedby. (5) Focus management excellent - focus moves to first field on form load (immediate form access without Tabbing through page chrome), focus moves to first error after validation fail (announced: 'Form validation failed with 2 errors. Focus moved to first error: Email'), focus preserved during dynamic changes (conditional field appearing doesn't steal focus mid-entry). Testing with JAWS screen reader took 12 minutes (vs previous 45-60 min) completing entire workflow flawlessly: navigated through fields hearing clear announcements ('First name, required, edit text' → entered text → heard 'Draft saved'), triggered validation hearing immediate error feedback ('Password, invalid, edit text, Must be 8+ characters, currently 5'), corrected errors, submitted successfully hearing confirmation ('Profile updated successfully. Focus moved to dashboard'). My audit report: 0 critical violations, 1 medium issue (one tooltip text slightly verbose for screen readers - recommendation to shorten), 2 low-priority enhancements (add keyboard shortcut hints to long forms, improve loading indicator announcement text). Development team relieved by positive feedback vs previous 15-25 violation lists requiring weeks of rework. After 6 months, we'd launched 10 forms with new framework - average violations per form: 0.4 (4 total violations across 10 forms, all minor) vs previous 18 average (180 violations across 10 forms before framework)."
      emotional_resolution: "I now feel like accessibility collaborator enabling inclusive design vs previous role as late-stage auditor finding violations requiring costly remediation. Accessible-by-default framework reduced average violations from 18 per form to 0.4 (98% reduction) through built-in WCAG compliance: proper labeling, logical Tab order, visible focus indicators, ARIA attributes, screen reader support. Audit time reduced from 45-60 min per form to 12 min because forms work correctly with assistive technology on first try vs hunting for violations requiring 15-25 documented issues with remediation recommendations. Development team relationship improved from tension (late feedback requiring rework) to collaboration (accessible patterns built-in, occasional enhancement suggestions vs violation lists). Keyboard navigation perfect: logical Tab order, visible focus indicators (2px blue, 3:1+ contrast), Enter submits, Escape closes modals, skip links for efficiency. Screen reader support complete: labeled inputs, announced errors via ARIA live regions, fieldset/legend for groups, required indicators, format guidance accessible. Focus management excellent: focus on first field at load, focus moves to first error after validation, dynamic changes don't steal focus. Most importantly, accessibility shifted from reactive remediation (fix violations after building) to proactive enablement (build accessible by default) preventing barriers vs patching them, enabling platform to serve diverse user needs including assistive technology users requiring keyboard-only navigation, screen reader support, and clear focus management for independent form completion."

  scenarios:
    - id: scn-001
      name: Form User completes multi-step form with inline validation and auto-save without errors or data loss
      actor: form-user
      context: ctx-001
      trigger: "Marketing Manager needs to create content entry via 20-field form requiring 10-15 minutes experiencing friction from submit-time validation, unclear errors, and data loss anxiety from previous timeout incidents."
      action: >
        Open content creation form seeing Step 1 of 4 (Basic Info - 25% complete) with 5 fields: title (required), summary (required, 100-300 chars), category (required dropdown), tags (required, min 3), status (draft/published). Type title 'Introducing New Product' seeing green checkmark after leaving field (validation passes). Enter summary 'New features include...' (45 chars) seeing live counter '45/300 - Add 55 more to reach minimum' in yellow. Add text reaching 105 chars, counter turns green with checkmark. Select category from dropdown (Product Updates). Add 2 tags attempting Next seeing field-level error: 'Tags: Need 3 minimum - You have 2. Add 1 more' with red border. Add third tag, error clears, Next enabled. Auto-save indicator shows 'Draft saved at 2:34 PM'. Click Next to Step 2 (Content - 50% complete) with full text editor and featured image upload. Draft 3 paragraphs (5 min) with auto-save updating every 30 sec. Interrupted by urgent call, close browser. Return 15 min later seeing prompt 'You have unsaved changes from 14 min ago. Restore draft?' Click Restore, form shows Steps 1-2 exactly as left. Complete Steps 3-4 (SEO metadata, publish settings) with inline validation. Review step shows all entered data with edit links. Click Publish, form succeeds immediately (no errors). Total time: 6 min active work vs previous 12-15 min with 3-5 submit errors.
      outcome: "Form completion time reduced 50% (from 12-15 min to 6 min) through inline validation preventing submit-time error correction cycles (0 errors on submit vs average 3-5). Live feedback (character counters, green checkmarks, immediate field-level errors) enabled correction during entry vs post-submit review. Auto-save with visible indicators ('Draft saved at 2:34 PM' updating every 30 sec) eliminated data loss anxiety and enabled interruption without losing 5-10 min of work. Progressive disclosure (4 steps of 5 fields vs 20-field page) reduced cognitive load with clear progress (Step 2 of 4, 50% complete). Actionable error messages ('Need 3 minimum - You have 2. Add 1 more') eliminated guess-and-check. Review step prevented submit surprises by showing all data with edit access before final publish."
      acceptance_criteria:
        - "Inline validation triggers onBlur for format checks (email, URL) and onChange for length limits (character count), showing green checkmark for valid fields, red border + error message below invalid fields within 200ms of trigger event."
        - "Live character counters for limited fields showing 'X/Y characters' with color coding: red when under minimum (45/300 - Add 55 more), yellow approaching minimum, green when valid, with real-time updates as user types (no delay)."
        - "Field-level error messages below invalid fields with format '[Field]: [Problem] → [Solution]' (e.g., 'Tags: Need 3 minimum - You have 2. Add 1 more'), icon (⚠), red styling, persisting until field corrected."
        - "Required field indicators: asterisk (*) next to labels for required fields, optional fields labeled '(optional)', with legend explaining asterisk meaning ('* Required field') at form top, all consistent across form."
        - "Auto-save every 30 seconds to server (if authenticated) or localStorage (if guest), with visible indicator showing save status ('Saving...' → 'Draft saved at [time]'), no user action required, silent background operation."
        - "Draft recovery on reload: prompt 'You have unsaved changes from [X minutes] ago. Restore draft?' with Restore/Discard buttons, clicking Restore pre-fills all fields with saved values, clicking Discard clears draft and starts fresh."
        - "Progressive disclosure with step indicator: 'Step X of Y' with breadcrumb trail (Basic Info → Content → SEO → Review), progress percentage (25%, 50%, 75%, 100%), Next/Previous buttons, can't proceed until current step valid (Next disabled if errors)."

    - id: scn-002
      name: Frontend Developer implements schema-based form reducing code 68% with built-in validation and state management
      actor: frontend-developer
      context: ctx-002
      trigger: "Frontend Engineer needs to implement 10-field account setup form requiring 200-250 lines of boilerplate code (field definitions, validation logic, error handling, state management) with 60-70% code overlap across similar forms."
      action: >
        Create formSchema.json defining 10 fields (name, email, password, confirmPassword, accountType, companyName, agreeToTerms) with validation rules: email format, password minLength 8, confirmPassword matches password, companyName required when accountType='company'. Specify error messages: 'Email: Must include @ symbol', 'Password: Must be 8+ characters → Add [X] more'. Define async validation: check email availability at /api/check-email endpoint with 300ms debounce. Configure conditional fields: companyName visible/required when accountType='company'. Set up auto-save: interval 30 seconds, storage 'server'. Define progressive disclosure: Step 1 (Account Info: name, email, password), Step 2 (Profile: accountType, companyName), Step 3 (Terms: agreeToTerms). Framework auto-generates: 10 input components with labels, inline validation onBlur, character counters, error messages, required indicators, loading states for async checks, conditional field show/hide, auto-save with indicators, 3-step wizard with breadcrumbs. Total schema: 80 lines vs previous 250 lines of imperative code. Test form: all validation working (format checks, required fields, async email check), conditional logic correct (companyName shown only when accountType='company'), auto-save updating every 30 sec, progressive steps with breadcrumbs. Deploy to production. Measure code reduction: 250 lines to 80 lines = 68% reduction. Apply pattern to 7 more forms over 1 week (vs 6-8 weeks to build originally).
      outcome: "Form implementation code reduced 68% (from 250 to 80 lines) through declarative schema replacing verbose boilerplate (field definitions, validation logic, error rendering, state management). Built-in async validation utilities (debounced API calls, loading indicators, caching) replaced 30-40 lines of custom implementation with 3-line schema config. Declarative conditional fields (visibleWhen, requiredWhen) replaced 40-50 lines of useEffect hooks and DOM manipulation with schema config. Auto-generated components (inputs, labels, errors, counters, indicators) eliminated manual 150-line component code. Progressive disclosure auto-generated from schema step definitions vs 80-100 line custom wizard implementation. Total codebase for 8 forms reduced from 3,200 lines (400 per form) to 900 lines (112 per form) improving maintainability and consistency."
      acceptance_criteria:
        - "JSON schema format defining fields with properties: name, type (text/email/password/select/etc.), label, validation (required, minLength, maxLength, pattern, custom), errorMessage (user-friendly template with variables), dependencies (visibleWhen, requiredWhen), placeholder, helpText."
        - "Framework auto-generates form UI from schema: input components styled per design system, labels associated with inputs (for/id), inline validation based on rules, error messages below fields, required indicators (*), character counters for maxLength fields, all without manual component code."
        - "Async validation configured in schema: asyncValidate: { endpoint, method, debounce, cache } triggering debounced API calls, showing loading indicator on field, displaying results (available/taken), caching to avoid redundant checks, all handled by framework (no custom code)."
        - "Conditional field logic in schema: visibleWhen: { field: 'accountType', equals: 'company' } and requiredWhen: { field: 'accountType', equals: 'company' } with framework automatically showing/hiding fields, updating validation rules, managing field reset on toggle, no useEffect or DOM manipulation needed."
        - "Auto-save configured in schema: autosave: { interval: 30, storage: 'server'/'localStorage', exclude: ['password'] } with framework handling: timer management, save indicators, draft recovery on reload, conflict resolution if server data changed, all automatic."
        - "Progressive disclosure in schema: steps: [{ title: 'Account Info', fields: ['name', 'email'] }, ...] with framework generating: step wizard UI, breadcrumb navigation, progress indicator, Next/Previous buttons, step validation (can't proceed if current step invalid), all automatic."
        - "Code metrics: schema-based form 60-80 lines vs imperative implementation 200-400 lines (60-80% reduction), similar forms share schema templates (inheritance/composition), schema changes propagate automatically (update rule in one place), validation rules testable independently of UI."

    - id: scn-003
      name: Accessibility Advocate audits form finding zero violations with built-in WCAG compliance vs previous 15-25 issues
      actor: accessibility-advocate
      context: ctx-003
      trigger: "Accessibility Specialist conducts pre-launch WCAG audit on 12-field user profile form expecting to find 15-25 violations (unlabeled inputs, poor keyboard nav, no screen reader support) requiring 2-3 weeks remediation like previous forms."
      action: >
        Begin keyboard-only audit: Tab through form seeing logical top-to-bottom order, visible 2px blue focus indicators (3:1+ contrast vs background), no Tab traps, 'Skip to form' link at top. Enter key submits from any field. Escape closes help tooltips. Test conditional fields: select 'Company account' seeing 'Company name' field appear, Tab order adjusts to include new field, no focus stealing. Intentionally create validation errors: leave required fields empty, enter invalid email. Submit form via Enter key. Hear via JAWS: 'Form validation failed with 3 errors. Focus moved to first error: Name.' Tab through errors hearing: 'Name, invalid, required, edit text, This field is required', 'Email, invalid, edit text, Must include @ symbol', 'Password, invalid, edit text, Must be 8+ characters'. Check ARIA attributes in dev tools: all inputs have proper labels (label elements with for/id), required fields marked aria-required='true', invalid fields marked aria-invalid='true', error messages associated via aria-describedby, live regions announce validation changes. Test screen reader announcements: focus field hearing 'Email, required, edit text, Enter your email address' (label + required + type + helpText), type invalid email and leave field hearing 'Email, invalid, Must include @ symbol' (error announced via live region), correct email hearing 'Email, valid' (success announced). Verify fieldset/legend for radio groups, focus management (first field focused on load, first error focused after submit), help content keyboard accessible (Tab to info icon, Enter opens tooltip, Escape closes, tooltip text announced). Complete full form via keyboard only successfully submitting without mouse. Total audit time: 12 minutes (vs usual 45-60 min). Document findings: 0 critical violations, 0 high violations, 1 medium issue (tooltip text verbose - recommend shortening), 2 low enhancements (add keyboard shortcut reference, improve loading announcement). Compare to previous forms: average 18 violations (6 critical, 8 high, 4 medium) requiring 30-50 hours remediation.
      outcome: "Form passed WCAG 2.1 AA audit with zero critical violations vs previous average 18 violations per form (98% improvement) through accessible-by-default framework. Keyboard navigation perfect: logical Tab order, visible focus indicators (2px blue, 3:1+ contrast), no traps, skip links, Enter submits. Screen reader support complete: all inputs labeled (label elements), errors announced (ARIA live regions), fieldset/legend for groups, required indicators (aria-required), error association (aria-describedby). Focus management excellent: first field focused on load, first error focused after validation, dynamic changes don't steal focus. Audit time reduced from 45-60 min to 12 min because form worked correctly with assistive technology on first try vs hunting for violations. Development team received positive feedback (1 medium + 2 low suggestions) vs previous violation lists (15-25 issues) requiring weeks of remediation."
      acceptance_criteria:
        - "Keyboard navigation: logical Tab order (top-to-bottom, left-to-right, no jumps), visible focus indicators (2px outline, 3:1+ contrast vs background, colored ring matching design system), Enter key submits form from any field, Escape key closes modals/tooltips, Tab trapping handled correctly in modals (cycles through modal fields, Escape exits)."
        - "Screen reader support: all inputs labeled with label elements (programmatic association via for/id), required fields marked with aria-required='true' (announced as 'Name, required, edit text'), invalid fields marked aria-invalid='true' with aria-describedby linking to error message (announced as 'Email, invalid, Must include @ symbol'), fieldset/legend for grouped fields (radio buttons announced with context: 'Account type: Personal, radio button')."
        - "ARIA live regions: validation errors announced dynamically ('Email, invalid, Must include @ symbol' when error appears, 'Email, valid' when corrected), form submission status announced ('Submitting form' → 'Form submitted successfully' or 'Form validation failed with 3 errors'), dynamic content changes announced (conditional fields appearing: 'Company name field now visible and required')."
        - "Focus management: focus moves to first form field on page load (no need to Tab through header/nav), focus moves to first error after validation fail with announcement ('Focus moved to first error: Name'), focus preserved during dynamic changes (conditional field appearing doesn't steal focus from current field), focus indicator always visible (never hidden or obscured)."
        - "Accessible help content: info icons (ⓘ) keyboard accessible (Tab to icon, Enter/Space opens tooltip, Escape closes), tooltip content announced to screen readers, help text associated with fields via aria-describedby (announced when field focused: 'Email, required, edit text, Enter your email address'), format examples programmatically associated not just visual."
        - "WCAG 2.1 AA compliance: contrast ratios 4.5:1+ for text, 3:1+ for focus indicators, all functionality keyboard accessible (no mouse-only features), form completable with screen reader only (JAWS, NVDA, VoiceOver), clear error identification and recovery guidance, time limits avoidable (auto-save prevents data loss), no flashing content (animations respect prefers-reduced-motion)."

dependencies:
  requires:
    - fd-007  # Organization settings for form permission controls and approval workflows
    - fd-010  # Content lifecycle for form-created content status and version management
  enables:
    - "All data entry features (account setup, content creation, settings, imports) depend on form framework"
    - "Configuration interfaces, admin tools, and user preferences use form patterns"

boundaries:
  non_goals:
    - "Custom form builders for end users - focus is developer/designer implementation tools not end-user form creation"
    - "Form analytics or A/B testing - focus is UX patterns not optimization tooling"
    - "Payment forms or PCI compliance - standard forms only, no sensitive financial data handling"
  constraints:
    - "Auto-save limited to 5MB per form for performance (larger forms require explicit save)"
    - "Async validation debounce minimum 300ms to prevent excessive API calls"
    - "Progressive disclosure max 10 steps (forms longer than 10 steps need redesign for usability)"
    - "Conditional field logic max 5 levels deep (deeply nested dependencies become unmaintainable)"
  edge_cases:
    - "Form edited by multiple users simultaneously (show conflict resolution UI with last-save-wins or merge options)"
    - "Auto-save during submission (cancel auto-save when user clicks Submit to avoid race conditions)"
    - "Browser crashes during form entry (draft recoverable from last auto-save, may lose up to 30 seconds of work)"
    - "Async validation timeout (show warning after 5 seconds, allow form submission with pending validation)"

contexts:
  - id: ctx-001
    type: ui
    name: Multi-Step Form with Inline Validation
    description: >
      End users complete forms with progressive disclosure, inline validation, auto-save, and clear error messaging enabling confident efficient
      data entry without submit-time surprises or data loss anxiety.
    key_interactions:
      - "Fill form fields seeing inline validation: green checkmarks for valid fields, red borders + error messages for invalid, yellow warnings for suggestions, with validation triggered onBlur (format checks) or onChange (character limits)."
      - "View live feedback during entry: character counters showing current/max with color coding (red under minimum, yellow approaching, green valid), format hints in placeholders ('name@company.com'), required indicators (* asterisk)."
      - "Navigate multi-step form: Next button to proceed (disabled if current step has errors), Previous to go back, breadcrumb trail showing completed steps (clickable to jump), progress indicator (Step 2 of 4, 50% complete)."
      - "Rely on auto-save: visible indicator updating every 30 seconds ('Draft saved at 2:34 PM'), automatic draft recovery on reload ('Restore draft from 14 min ago?'), no manual save needed."
      - "Submit form confidently: Review step shows all entered data with edit links, validation already passed inline (no submit-time errors), success message confirms completion."
    data_displayed:
      - "Form fields: label (required indicator if needed), input (with placeholder example), inline help icon (ⓘ for format guidance), validation feedback (green ✓ or red ⚠ + message), character counter if limited (87/300 characters)."
      - "Step indicator: breadcrumb trail (Basic Info → Content → SEO → Review) with current step highlighted, completed steps have checkmarks, progress percentage (50% complete), step title as heading."
      - "Error messages: field-level below each invalid input with format '[Field]: [Problem] → [Solution]', error summary at form top if multiple errors ('3 errors found: Email format, Password length, Terms required' with jump links)."
      - "Auto-save indicator: top-right corner showing 'Draft saved at 2:34 PM' or 'Saving...' (with spinner) or 'Draft save failed - Retry?' (if network error), unobtrusive but visible for confidence."
      - "Review step: summary cards for each section (Basic Info, Content, SEO) showing entered values, Edit link on each card jumping to that step, Submit button at bottom (primary styling, large target)."

  - id: ctx-002
    type: developer
    name: Schema-Based Form Configuration
    description: >
      Developers define forms using declarative JSON schemas specifying fields, validation, dependencies, auto-save, and progressive disclosure.
      Framework auto-generates UI, validation logic, and state management reducing code 60-80% vs imperative implementation.
    key_interactions:
      - "Define form schema in JSON: fields with name/type/label/validation/errorMessage/helpText, async validation with endpoint/debounce/cache config, conditional fields with visibleWhen/requiredWhen dependencies, auto-save with interval/storage settings."
      - "Configure validation rules declaratively: required, minLength, maxLength, pattern (regex), format (email/url/phone), custom (function reference), with user-friendly error message templates including variables ([field_name], [current_length], [required_length])."
      - "Set up progressive disclosure: steps array with title and fields per step, framework auto-generates wizard with breadcrumbs, progress indicator, Next/Previous navigation, step validation (can't proceed if errors)."
      - "Test form in development: framework generates complete UI from schema (inputs, labels, validation, errors, counters, auto-save indicators), hot reload on schema changes, validation testable independently of UI."
      - "Deploy to production: schema version controlled in repo, changes tracked via git, schema validation prevents invalid configs, documentation auto-generated from schema."
    data_displayed:
      - "Schema JSON: fields array with objects { name, type, label, validation, errorMessage, placeholder, helpText, visibleWhen, requiredWhen, asyncValidate }, autosave config { interval, storage, exclude }, steps config with title and field assignments."
      - "Validation rules: required: true, minLength: 8, maxLength: 100, pattern: /regex/, format: 'email', asyncValidate: { endpoint: '/api/check', debounce: 300 }, custom: 'validatePassword' (function name)."
      - "Error messages: templates with variables 'Password: Must be [minLength]+ characters → Add [remaining] more' replacing [minLength] and [remaining] with actual values at runtime."
      - "Generated UI preview: live rendering of form as schema edited, shows all fields with styling, validation working, conditional logic functional, auto-save indicators present."
      - "Code metrics: schema line count vs equivalent imperative code (80 vs 250 lines = 68% reduction), reusable schema templates (inheritance/composition), validation test coverage (unit tests for rules independent of UI)."

  - id: ctx-003
    type: testing
    name: Accessibility Audit Interface
    description: >
      Accessibility specialists audit forms using keyboard-only navigation and screen readers (JAWS, NVDA, VoiceOver) verifying WCAG 2.1 AA
      compliance. Built-in accessibility features reduce violations from average 18 per form to near-zero.
    key_interactions:
      - "Test keyboard navigation: Tab through all fields checking logical order (top-to-bottom), visible focus indicators (2px outline, 3:1+ contrast), Enter submits form, Escape closes modals/tooltips, no Tab traps."
      - "Verify screen reader support: activate screen reader (JAWS/NVDA/VoiceOver), navigate form via keyboard listening for field announcements ('Email, required, edit text'), error announcements ('Email, invalid, Must include @ symbol'), success feedback ('Form submitted successfully')."
      - "Inspect ARIA attributes: use browser dev tools checking label associations (label with for/id), required indicators (aria-required='true'), invalid states (aria-invalid='true'), error associations (aria-describedby), live regions for dynamic announcements."
      - "Check focus management: verify focus on first field at load, focus moves to first error after validation fail, focus preserved during dynamic changes (conditional fields appearing), focus indicator always visible."
      - "Document findings: record violations with severity (Critical/High/Medium/Low), WCAG reference (1.3.1, 2.1.1, 3.3.2), screenshot, remediation recommendation, estimated effort."
    data_displayed:
      - "Keyboard testing checklist: ✓ Tab order logical, ✓ Focus indicators visible (2px, 3:1+ contrast), ✓ Enter submits, ✓ Escape closes, ✓ No Tab traps, ✓ Skip links present, ✓ Keyboard shortcuts documented."
      - "Screen reader announcements: field focus ('Email, required, edit text, Enter your email address'), validation ('Email, invalid, Must include @ symbol'), success ('Email, valid'), form submission ('Form submitted successfully'), dynamic changes ('Company name field now visible')."
      - "ARIA inspection: label[for='email'] with input[id='email'], aria-required='true' on required fields, aria-invalid='true' on invalid fields, aria-describedby='email-error' linking to error message, role='alert' on live region for announcements."
      - "Accessibility violations report: severity (Critical/High/Medium/Low), count (0 critical, 0 high, 1 medium, 2 low), description ('Tooltip text verbose'), WCAG reference (3.3.2 Labels or Instructions), remediation ('Shorten tooltip to 50 chars max'), effort estimate (1 hour)."
      - "Comparison metrics: current form violations (0 critical, 1 medium, 2 low) vs previous average (6 critical, 8 high, 4 medium) showing 98% improvement, audit time (12 min vs 45-60 min), remediation effort (1 hour vs 30-50 hours)."
