{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "version": "1.13.0",
  "title": "Strategy Foundations Schema",
  "description": "Defines the structure for core strategic definitions (Product Vision, Value Proposition, Strategic Sequencing, Information Architecture) that inform the Winning Formula.",
  "type": "object",
  "properties": {
    "strategy_foundations": {
      "type": "object",
      "properties": {
        "opportunity_id": {
          "type": "string",
          "description": "Reference to the opportunity this strategy addresses"
        },
        "last_updated": {
          "type": "string",
          "format": "date",
          "description": "Date of last update"
        },
        "confidence_level": {
          "type": "string",
          "enum": ["high", "medium", "low"],
          "description": "Overall confidence in strategic foundations"
        },
        "product_vision": {
          "type": "object",
          "properties": {
            "vision_statement": {
              "type": "string",
              "description": "What the product will become (3-5 year horizon)"
            },
            "target_timeframe": {
              "type": "string",
              "description": "Vision timeframe"
            },
            "success_indicators": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "indicator": {
                    "type": "string"
                  },
                  "target": {
                    "type": "string"
                  }
                }
              },
              "description": "Observable outcomes that signal vision achievement"
            },
            "vision_alignment": {
              "type": "object",
              "properties": {
                "informed_by_trends": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "addresses_opportunity": {
                  "type": "object",
                  "properties": {
                    "opportunity_aspect": {
                      "type": "string"
                    },
                    "user_benefit": {
                      "type": "string"
                    }
                  }
                },
                "differentiator": {
                  "type": "string"
                }
              }
            }
          },
          "required": ["vision_statement", "target_timeframe", "success_indicators"]
        },
        "value_proposition": {
          "type": "object",
          "properties": {
            "headline": {
              "type": "string",
              "description": "Single sentence capturing unique value"
            },
            "target_segment": {
              "type": "string",
              "description": "Specific persona or segment addressed"
            },
            "functional_value": {
              "type": "object",
              "properties": {
                "jobs_to_be_done": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Primary jobs the product helps complete"
                },
                "key_benefits": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Tangible outcomes users achieve"
                }
              }
            },
            "emotional_value": {
              "type": "object",
              "properties": {
                "feelings_we_create": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Positive emotions evoked"
                },
                "pains_we_eliminate": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Frustrations removed"
                }
              }
            },
            "economic_value": {
              "type": "object",
              "properties": {
                "cost_savings": {
                  "type": "string"
                },
                "revenue_gains": {
                  "type": "string"
                },
                "risk_reduction": {
                  "type": "string"
                }
              }
            },
            "proof_points": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "claim": {
                    "type": "string"
                  },
                  "proof": {
                    "type": "string"
                  }
                }
              },
              "description": "Evidence that validates the value claims"
            },
            "consistency_check": {
              "type": "object",
              "properties": {
                "solves_problem": {
                  "type": "string",
                  "description": "Reference to specific problem from insight analyses"
                },
                "exploits_white_space": {
                  "type": "string",
                  "description": "Reference to white space from competitive analysis"
                },
                "leverages_strength": {
                  "type": "string",
                  "description": "Reference to strength from SWOT"
                }
              }
            }
          },
          "required": ["headline", "target_segment", "functional_value"]
        },
        "strategic_sequencing": {
          "type": "object",
          "properties": {
            "sequencing_principle": {
              "type": "string",
              "description": "Overarching logic for why this sequence makes sense"
            },
            "phases": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "phase": {
                    "type": "number"
                  },
                  "name": {
                    "type": "string"
                  },
                  "timeframe": {
                    "type": "string"
                  },
                  "focus": {
                    "type": "string",
                    "description": "Primary strategic focus"
                  },
                  "target_segment": {
                    "type": "string"
                  },
                  "target_problem": {
                    "type": "string"
                  },
                  "value_delivered": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "success_criteria": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "metric": {
                          "type": "string"
                        },
                        "target": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "strategic_rationale": {
                    "type": "string",
                    "description": "Why this phase comes before/after others"
                  }
                },
                "required": ["phase", "name", "timeframe", "focus"]
              }
            },
            "sequencing_constraints": {
              "type": "object",
              "properties": {
                "dependencies": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "from_phase": {
                        "type": "number"
                      },
                      "to_phase": {
                        "type": "number"
                      },
                      "dependency": {
                        "type": "string"
                      }
                    }
                  }
                },
                "risks_of_sequence": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "risk": {
                        "type": "string"
                      },
                      "mitigation": {
                        "type": "string"
                      }
                    }
                  }
                },
                "alternative_considered": {
                  "type": "string"
                }
              }
            }
          },
          "required": ["sequencing_principle", "phases"]
        },
        "information_architecture": {
          "type": "object",
          "properties": {
            "architecture_philosophy": {
              "type": "string",
              "description": "Overarching principle guiding the IA"
            },
            "mental_model": {
              "type": "object",
              "properties": {
                "user_thinks_in_terms_of": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Natural user concepts and categories"
                },
                "not_in_terms_of": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "System/technical concepts to avoid exposing"
                },
                "informed_by_jobs": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Jobs to be done that shape the structure"
                }
              }
            },
            "primary_structure": {
              "type": "object",
              "properties": {
                "top_level_navigation": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "label": {
                        "type": "string"
                      },
                      "purpose": {
                        "type": "string"
                      },
                      "rationale": {
                        "type": "string"
                      }
                    }
                  }
                },
                "key_object_types": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "object": {
                        "type": "string"
                      },
                      "definition": {
                        "type": "string"
                      },
                      "why_first_class": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            },
            "interaction_patterns": {
              "type": "object",
              "properties": {
                "primary_actions": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "action": {
                        "type": "string"
                      },
                      "where": {
                        "type": "string"
                      },
                      "why_prominent": {
                        "type": "string"
                      }
                    }
                  }
                },
                "information_discovery": {
                  "type": "string",
                  "description": "How users find what they need"
                }
              }
            },
            "design_principles": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "principle": {
                    "type": "string"
                  },
                  "manifestation": {
                    "type": "string"
                  }
                }
              }
            },
            "competitive_ia_comparison": {
              "type": "object",
              "properties": {
                "competitor_approach": {
                  "type": "string"
                },
                "our_differentiation": {
                  "type": "string"
                }
              }
            },
            "consistency_check": {
              "type": "object",
              "properties": {
                "reflects_mental_model": {
                  "type": "string"
                },
                "supports_jobs": {
                  "type": "string"
                },
                "enables_sequencing": {
                  "type": "string"
                }
              }
            }
          },
          "required": ["architecture_philosophy", "mental_model", "primary_structure"]
        }
      },
      "required": ["opportunity_id", "last_updated", "confidence_level", "product_vision", "value_proposition", "strategic_sequencing", "information_architecture"]
    },
    "consistency_validation": {
      "type": "object",
      "properties": {
        "vision_aligns_with_north_star": {
          "type": "string"
        },
        "value_prop_addresses_insights": {
          "type": "string"
        },
        "sequencing_exploits_trends": {
          "type": "string"
        },
        "ia_matches_user_mental_model": {
          "type": "string"
        }
      }
    },
    "change_log": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date"
          },
          "what_changed": {
            "type": "string"
          },
          "why": {
            "type": "string"
          },
          "impact_on_fire_phase": {
            "type": "string"
          }
        }
      }
    }
  },
  "required": ["strategy_foundations"]
}
